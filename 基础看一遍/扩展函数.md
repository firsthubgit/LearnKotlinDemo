**目录**

<!--- TOC -->

* 扩展函数   
    * [1.this关键字](#1this关键字)
    * [2.注意](#2注意)
    * [3.伴生对象的扩展](#3伴生对象的扩展)


# 1.this关键字
this关键字指代接收者对象(receiver object)(也就是调用扩展函数时,
在点号之前指定的对象实例)。


# 2.注意
1.扩展函数是静态解析的，不依赖继承。

```kotlin
open class C

class D: C()

fun C.foo() = "c"   // 扩展函数 foo

fun D.foo() = "d"   // 扩展函数 foo

fun printFoo(c: C) {
    println(c.foo())  // 类型是 C 类
}

fun main(arg:Array<String>){
    printFoo(D()) //即使传入的是D调用的C的函数
}
```
2.若扩展函数和成员函数名字一样时，则使用该函数时，会优先使用成员函数。   


3.扩展属性    
扩展属性只能被声明为 val。
```kotlin
val <T> List<T>.lastIndex: Int
    get() = size - 1

val Foo.bar = 1 // 错误：扩展属性不能有初始化器

```

# 3.伴生对象的扩展
如果一个类定义有一个伴生对象
，你也可以为伴生对象定义扩展函数和属性。通过用类名限定符来调用。 
```kotlin
class MyClass {
    companion object { }  // 将被称为 "Companion"
}

fun MyClass.Companion.foo() {
    println("伴随对象的扩展函数")
}

val MyClass.Companion.no: Int
    get() = 10

fun main(args: Array<String>) {
    println("no:${MyClass.no}")
    MyClass.foo()
}
```

